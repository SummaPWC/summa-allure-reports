Error #1: Error: [2mexpect([22m[31mresponse[39m[2m).[22mtoBeOK[2m([22m[2m)[22m failed


Call log:
[2mâ†’ POST https://summa.org.il/api/authentication/Login[22m
[2m  user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36[22m
[2m  accept: */*[22m
[2m  accept-encoding: gzip,deflate,br[22m
[2m  Content-Type: application/json[22m
[2m  content-length: 41[22m
[2mâ† 500 Internal Server Error[22m
[2m  date: Mon, 12 Jan 2026 09:46:13 GMT[22m
[2m  content-type: text/plain; charset=utf-8[22m
[2m  transfer-encoding: chunked[22m
[2m  connection: keep-alive[22m
[2m  server: Kestrel[22m
[2m  api-supported-versions: 1.0[22m
[2m  x-rate-limit-limit: 7d[22m
[2m  x-rate-limit-remaining: 89999981[22m
[2m  x-rate-limit-reset: 2026-01-19T09:41:15.9243941Z[22m

Response text:
[2mSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.[22m
[2m ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Transaction (Process ID 99) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.[22m
[2m   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)[22m
[2m   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)[22m
[2m   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)[22m
[2m   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultS[22m
Error: [2mexpect([22m[31mresponse[39m[2m).[22mtoBeOK[2m([22m[2m)[22m failed
Call log:
[2mâ†’ POST https://summa.org.il/api/authentication/Login[22m
[2m  user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36[22m
[2m  accept: */*[22m
[2m  accept-encoding: gzip,deflate,br[22m
[2m  Content-Type: application/json[22m
[2m  content-length: 41[22m
[2mâ† 500 Internal Server Error[22m
[2m  date: Mon, 12 Jan 2026 09:46:13 GMT[22m
[2m  content-type: text/plain; charset=utf-8[22m
[2m  transfer-encoding: chunked[22m
[2m  connection: keep-alive[22m
[2m  server: Kestrel[22m
[2m  api-supported-versions: 1.0[22m
[2m  x-rate-limit-limit: 7d[22m
[2m  x-rate-limit-remaining: 89999981[22m
[2m  x-rate-limit-reset: 2026-01-19T09:41:15.9243941Z[22m
Response text:
[2mSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.[22m
[2m ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Transaction (Process ID 99) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.[22m
[2m   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)[22m
[2m   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)[22m
[2m   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)[22m
[2m   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultS[22m
    at Object.<anonymous> (/workspace/summa/Summa/testing/playwright/tests/step-definitions/login.steps.ts:44:21)
    at /workspace/summa/Summa/testing/playwright/.features-gen/tests/features/client.feature.spec.js:7:5